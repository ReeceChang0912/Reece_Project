## 浅谈函数与类

熟悉React的同学，都知道React的组件有两种，函数组件与类式组件？

最开始的时候，函数组件没有hook钩子，所以不能很好管理state状态时，类式组件则可以很好的管理。相信学过一点C++或者Java的同学都对面向对象这种编程思想有所了解，那么类究竟好在哪里呢？

最显然的是它的三个特点：抽象，多态与继承。最直观的就是它能实现代码的复用，把重复代码抽离出来，我们在UML进行设计分析的时候，比如用例设计，也经常以面向对象的思想来考虑。下面是一个用例图。

![image-20211216153646504](D:\Reece_Project\FE\JS_How_JS_Work\UserCase.png)

面向对象的有点很多，然而也有一些缺点，类和继承等特点使得程序会多很多指针操作来定位函数入口和自身要维护虚拟方法表等额外的工作，程序的处理效率相对要低（但程序开发效率高）。

![image-20211216160307313](D:\Reece_Project\FE\JS_How_JS_Work\moreFunc.png)

比较显然的就是，私有变量需要单独设计函数去修改，会有很大的重复量，而且程序的耦合度也比较大。所以面向对象很好，但是不应该是终极方法。而且类在类型上是比较依赖的。

而JS呢，可以利用构造函数创建对象，结合new与原型链的一些东西，可以很好实现与类相同的效果。

通过闭包保存私有数据，然后冻结方法处理数据，最好的有点在于其对方法的参数的处理很好，比如把参数包装成一个对象，便于添加，而且没有顺序，方法的定义也很灵活，在method函数字面量中定义有用的方法。

函数总给人一种轻盈的感觉，而类则有一种笨重的感觉，但很健全完整。



